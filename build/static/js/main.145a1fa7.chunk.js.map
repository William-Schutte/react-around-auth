{"version":3,"sources":["images/header-logo.svg","serviceWorker.js","contexts/CurrentUserContext.js","components/Card.js","components/Header.js","components/Footer.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ProtectedRoute.js","components/Register.js","components/Login.js","components/InfoToolTip.js","utils/auth.js","components/App.js","index.js"],"names":["module","exports","Boolean","window","location","hostname","match","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","owner","card","_id","cardDeleteButtonClasses","isLiked","likes","some","i","cardLikeButtonClasses","className","style","backgroundImage","link","onClick","onCardClick","type","aria-label","onCardDelete","name","onCardLike","length","Header","useState","innerWidth","width","setWidth","isMenuOpen","setIsMenuOpen","useEffect","handleResize","addEventListener","removeEventListener","userEmail","logOut","to","src","headerLogo","alt","linkText","linkTo","Footer","Main","onEditAvatar","avatar","about","onEditProfile","onAddPlace","cards","map","key","onClose","PopupWithForm","isOpen","onSubmit","title","children","btnText","ImagePopup","api","options","this","token","fetch","baseUrl","method","headers","then","res","status","json","data","Promise","reject","newName","newAbout","credentials","mode","body","JSON","stringify","ok","newUrl","newLink","cardId","cardData","EditProfilePopup","setName","setDescription","description","e","preventDefault","onUpdateUser","id","value","onChange","target","required","minLength","maxLength","pattern","EditAvatarPopup","state","handleChange","bind","handleClose","handleSubmit","setState","onUpdateAvatar","prevProps","placeholder","Component","AddPlacePopup","url","setUrl","ProtectedRoute","component","loggedIn","Register","email","password","register","withRouter","Login","logIn","InfoToolTip","success","BASE_URL","App","isLoggedIn","isEditProfileOpen","isAddPlaceOpen","isEditAvatarOpen","isInfoToolTipOpen","regSuccess","selectedCard","handleEditAvatarClick","handleEditProfileClick","handleAddPlaceClick","handleAuthRegClick","closeAllPopups","handleCardClick","handleUpdateUser","handleUpdateAvatar","handleCardLike","handleCardDelete","handleAddPlace","handleLogIn","handleLogOut","handleRegister","jwt","localStorage","getItem","console","log","history","push","catch","err","getInitialCards","Error","setItem","auth","removeItem","result","newInfo","patchUserInfo","patchUserPic","likeCard","newCards","c","deleteCard","filter","addNewCard","Provider","exact","path","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.145a1fa7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/header-logo.8f7611ae.svg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\n\nconst CurrentUserContext = React.createContext();\nexport default CurrentUserContext;","import React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\n\nfunction Card(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    // Code to check if the card is owned by current user and determine the delete buttons visibility\n    const owner = props.card.owner._id === currentUser._id;\n    const cardDeleteButtonClasses = `card__delete-button ${owner ? 'card__delete-button_visible' : 'card__delete-button_hidden'}`;\n\n    // Checks if the card was liked by the current user\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n    const cardLikeButtonClasses = `card__fav-button ${isLiked && 'card__fav-button_active'}`;\n    \n    function handleClick() {\n        props.onCardClick(props.card);\n    }\n    function handleLikeClick() {\n        props.onCardLike(props.card);\n    }\n    function handleDeleteClick() {\n        props.onCardDelete(props.card);\n    }\n\n    return (\n        <li className=\"card\">\n            <div className=\"card__image\" style={{ backgroundImage: `url(${props.card.link})` }} onClick={handleClick} />\n            <button type=\"button\" aria-label=\"Card Delete Button\" className={cardDeleteButtonClasses} onClick={handleDeleteClick}></button>\n            <div className=\"card__overlay\">\n                <h2 className=\"card__name\">{props.card.name}</h2>\n                <div className=\"card__like-column\">\n                    <button type=\"button\" aria-label=\"Card Favorite Button\" className={cardLikeButtonClasses} onClick={handleLikeClick}></button>\n                    <p className=\"card__like-count\">{props.card.likes.length}</p>\n                </div>\n            </div>\n        </li>\n    );\n}\n\nexport default Card;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport headerLogo from '../images/header-logo.svg';\n\nfunction Header(props) {\n\n    const MOBILE_WIDTH = 425;\n\n    const [width, setWidth] = React.useState(window.innerWidth);\n    const [isMenuOpen, setIsMenuOpen] = React.useState(false);\n\n    React.useEffect(() => {\n        function handleResize() {\n            setWidth(window.innerWidth);\n        }\n        window.addEventListener('resize', handleResize);\n\n        return () => window.removeEventListener('resize', handleResize);\n    });\n    \n    const handleMenu = () => {\n        setIsMenuOpen(!isMenuOpen);\n    }\n\n    return (\n        <>\n            {isMenuOpen && \n            <header className=\"header header_menu\">\n                <p className=\"header__email\">{props.userEmail}</p>\n                <Link className=\"header__sign-out btn-animate\" onClick={props.logOut} to='/'>Log Out</Link>\n            </header>}\n\n            <header className=\"header\">\n                <img className=\"header__logo\" src={headerLogo} alt=\"Around the U.S. Logo\" />\n                {props.linkText && <Link className=\"header__link btn-animate\" to={props.linkTo}>{props.linkText}</Link>}\n                {(props.userEmail && width > MOBILE_WIDTH) && \n                    <>\n                        <p className=\"header__email\">{props.userEmail}</p>\n                        <Link className=\"header__sign-out btn-animate\" onClick={props.logOut} to='/'>Log Out</Link>\n                    </>}\n                {(props.userEmail && width <= MOBILE_WIDTH) && \n                    <>\n                        <button type=\"button\" className={`header__menu-btn btn-animate ${isMenuOpen ? `header__menu-btn_close` : `header__menu-btn_open`}`} onClick={handleMenu}></button>\n                    </>}\n            </header>\n        </>\n    )\n}\n\nexport default Header;","import React from 'react';\n\nfunction Footer() {\n    return (\n        <footer className=\"footer\">\n                <p className=\"footer__copyright\">&copy;2020 William Schutte. Around the U.S.</p>\n        </footer>\n    );\n}\n\nexport default Footer;","import React from 'react';\nimport Card from './Card.js';\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\nimport Header from './Header';\nimport Footer from './Footer';\n\nfunction Main(props) {\n\n    // Import of context value from provider\n    const currentUser = React.useContext(CurrentUserContext);\n\n    return (\n        <>\n        <Header userEmail={props.userEmail} logOut={props.logOut} />\n        <main className=\"content\">\n            {/* Profile section at top of page, contains three buttons for editing profile and cards */}\n            <section className=\"profile\">\n                <button type=\"button\" className=\"profile__pic-button\" onClick={props.onEditAvatar}></button>\n                <div className=\"profile__picture\" style={{ backgroundImage: `url(${currentUser.avatar})` }} alt=\"My Profile Pic\" />\n                <div className=\"profile__info\">\n                    <h1 className=\"profile__name\">{currentUser.name}</h1>\n                    <p className=\"profile__occupation\">{currentUser.about}</p>\n                </div>\n                <button type=\"button\" aria-label=\"Edit Profile Button\" className=\"profile__edit-button btn-animate\" onClick={props.onEditProfile}></button>\n                <button type=\"button\" aria-label=\"Add Card Button\" className=\"profile__add-button btn-animate\" onClick={props.onAddPlace}></button>\n            </section>\n\n            {/* Image cards section, generated from server response */}\n            <section className=\"cards\">\n                <ul className=\"cards__container\">\n                    {props.cards.map(card => (\n                        <Card key={card._id} card={card} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} onClose={props.onClose} />\n                    ))}\n                </ul>\n            </section>\n        </main>\n        <Footer />\n        </>\n    );\n}\n\nexport default Main;","import React from 'react';\n\nfunction PopupWithForm(props) {\n    return(\n        <form className={`form ${props.name} ${props.isOpen && (`popup-opened`)}`} name={props.name} onSubmit={props.onSubmit}>\n            <div className=\"form__container\">\n                <h2 className=\"form__title\">{props.title}</h2>\n                {props.children}\n                <button type=\"submit\" className=\"form__save-button btn-animate\">{props.btnText}</button>\n                <button type=\"button\" aria-label=\"Close Form Button\" className=\"form__exit-btn btn-animate\" onClick={props.onClose}></button>\n            </div>\n        </form>\n    );\n}\n\nexport default PopupWithForm;","import React from 'react';\n\nfunction ImagePopup({ card, onClose }) {\n    return (\n        <div className={`picture ${card && (`popup-opened`)}`}>\n            <div className=\"picture__column\">\n                <img className=\"picture__img\" src={card ? card.link : ''} alt={card ? card.name : ''}/>\n                <h2 className=\"picture__title\">{card && card.name}</h2>\n                <button type=\"button\" aria-label=\"Close Picture Button\" className=\"form__exit-btn btn-animate\" onClick={onClose}></button>\n            </div>\n        </div>\n    );\n}\n\nexport default ImagePopup;","// ###########################  API Class  ########################################################\n\nclass Api {\n    constructor(options) {\n      this.options = options;\n    }\n  \n    getUserInfo(token) {\n        return fetch(`${this.options.baseUrl}/user`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${token}`\n            },\n        })\n          .then(res => {\n            if (res.status === 200) {\n                return res.json().data;\n            } else {\n                return Promise.reject(`Error: ${res.status}`);\n            }\n          });\n    }\n\n    patchUserInfo({ name: newName, about: newAbout }) {\n        return fetch(`${this.options.baseUrl}/user/me`, {\n            method: \"PATCH\",\n            credentials: \"include\",\n            mode: \"no-cors\",\n            headers: this.options.headers,\n            body: JSON.stringify({ name: newName, about: newAbout })\n        })\n            .then(res => {\n                if (res.ok) {\n                    return res.json();\n                } else {\n                    return Promise.reject(`Error: ${res.status}`);\n                }\n            });\n    }\n\n    patchUserPic({ avatar: newUrl }) {\n        return fetch(`${this.options.baseUrl}/user/me/avatar`, {\n            method: \"PATCH\",\n            credentials: \"include\",\n            mode: \"no-cors\",\n            headers: this.options.headers,\n            body: JSON.stringify({ avatar: newUrl })\n        })\n            .then(res => {\n                if (res.ok) {\n                    return res.json();\n                } else {\n                    return Promise.reject(`Error: ${res.status}`);\n                }\n            });\n    }\n\n    getInitialCards(token) {\n        return fetch(`${this.options.baseUrl}/cards`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${token}`\n            },\n        })\n          .then(res => {\n            if (res.ok) {\n                return res.json().data;\n            } else {\n                return Promise.reject(`Error: ${res.status}`);\n            }\n          });\n    }\n    \n    addNewCard({ name: newName, link: newLink }) {\n        return fetch(`${this.options.baseUrl}/cards`, {\n            method: \"POST\",\n            credentials: \"include\",\n            mode: \"no-cors\",\n            headers: this.options.headers,\n            body: JSON.stringify({ name: newName, link: newLink })\n          })\n            .then(res => {\n              if (res.ok) {\n                  return res.json();\n              } else {\n                  return Promise.reject(`Error: ${res.status}`);\n              }\n            });\n    }\n\n    deleteCard(cardId) {\n        return fetch(`${this.options.baseUrl}/cards/${cardId}`, {\n            method: \"DELETE\",\n            credentials: \"include\",\n            mode: \"no-cors\",\n            headers: this.options.headers,\n        })\n            .then(res => {\n                if (res.ok) {\n                    return res.json();\n                } else {\n                    return Promise.reject(`Error: ${res.status}`);\n                }\n            });\n    }\n\n    likeCard(cardData, isLiked) {\n        // If the card is already liked by the user, the like is removed, else a like is added\n        if (isLiked) {\n            return fetch(`${this.options.baseUrl}/cards/likes/${cardData._id}`, {\n                method: \"DELETE\",\n                credentials: \"include\",\n                mode: \"no-cors\",\n                headers: this.options.headers,\n            })\n                .then(res => {\n                    if (res.ok) {\n                        return res.json();\n                    } else {\n                        return Promise.reject(`Error: ${res.status}`);\n                    }\n                });\n        } else {\n            return fetch(`${this.options.baseUrl}/cards/likes/${cardData._id}`, {\n                method: \"PUT\",\n                credentials: \"include\",\n                mode: \"no-cors\",\n                headers: this.options.headers,\n            })\n                .then(res => {\n                    if (res.ok) {\n                        return res.json();\n                    } else {\n                        return Promise.reject(`Error: ${res.status}`);\n                    }\n                });\n        }\n        \n    }\n}\n\nconst api = new Api({\n    baseUrl: \"https://api.ws.p15.students.nomoreparties.site\",\n    headers: {\n        \"Content-Type\": \"application/json\",\n    }\n});\n\n// const api = new Api({\n//     baseUrl: \"https://around.nomoreparties.co/v1/group-1\",\n//     headers: {\n//         authorization: \"b3ddd9c8-cc64-4470-93b1-0840e92522c5\",\n//         \"Content-Type\": \"application/json\"\n//     }\n// });\n\nexport default api;","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\nfunction EditProfilePopup(props) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n    // Hook will load user data and then will \n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser, props.isOpen]);\n\n    const [name, setName] = React.useState(currentUser.name);\n    const [description, setDescription] = React.useState(currentUser.about);\n    \n    function handleName(e) {\n        setName(e.target.value);\n    }\n\n    function handleDescription(e) {\n        setDescription(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateUser({ name: name, about: description });\n    }\n\n    return (\n        <PopupWithForm name=\"form-edit\" title=\"Edit profile\" isOpen={props.isOpen} btnText=\"Save\" onClose={props.onClose} onSubmit={handleSubmit}>\n            <label className=\"form__input-field\">\n                <input id=\"form-name\" name=\"primary\" className=\"form__name form__input\" type=\"text\" value={name} onChange={handleName} required minLength=\"2\" maxLength=\"40\" pattern=\"[A-Za-z -]*\" />\n                <span id=\"form-name-error\" className=\"form__error\"></span>\n            </label>\n            <label className=\"form__input-field\">\n                <input id=\"form-occupation\" name=\"secondary\" className=\"form__occupation form__input secondary\" type=\"text\" value={description} onChange={handleDescription} required minLength=\"2\" maxLength=\"200\" />\n                <span id=\"form-occupation-error\" className=\"form__error\"></span>\n            </label>\n        </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nclass EditAvatarPopup extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            avatar: '',\n            isOpen: this.props.isOpen,\n        }\n        this.handleChange = this.handleChange.bind(this);\n        this.handleClose = this.handleClose.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n    \n    handleChange(e) {\n        const {value} = e.target\n        this.setState({ avatar: value })\n    }\n\n    handleClose() {\n        this.props.onClose();\n    }\n\n    handleSubmit(e) {\n        e.preventDefault();\n        this.props.onUpdateAvatar({ avatar: this.state.avatar });\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.isOpen === true && this.props.isOpen === false) {\n            this.setState({ avatar: '' });\n        }\n    }\n\n    render() {\n        return (\n            <PopupWithForm name=\"form-pic\" title=\"Change userpic\" isOpen={this.props.isOpen} btnText=\"Save\" onClose={this.handleClose} onSubmit={this.handleSubmit}>\n                <label className=\"form__input-field\">\n                    <input id=\"form-name\" name=\"primary\" className=\"form__name form__input\" type=\"url\" value={this.state.avatar} placeholder={this.props.currentUser.avatar} onChange={this.handleChange} required />\n                    <span id=\"form-name-error\" className=\"form__error\"></span>\n                </label>\n            </PopupWithForm>\n        );\n    };\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction AddPlacePopup(props) {\n\n    const [name, setName] = React.useState('');\n    const [url, setUrl] = React.useState('');\n    \n    function handleName(e) {\n        setName(e.target.value);\n    }\n\n    function handleUrl(e) {\n        setUrl(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onAddPlace({ name: name, link: url });\n    }\n\n    return (\n        <PopupWithForm name=\"form-add\" title=\"New place\" isOpen={props.isOpen} btnText=\"Create\" onClose={props.onClose} onSubmit={handleSubmit}>\n            <label className=\"form__input-field\">\n                <input id=\"form-place\" name=\"primary\" className=\"form__place form__input\" type=\"text\" placeholder=\"Title\" value={name} onChange={handleName} required minLength=\"1\" maxLength=\"30\" />\n                <span id=\"form-place-error\" className=\"form__error\"></span>\n            </label>\n            <label className=\"form__input-field\">\n                <input id=\"form-url\" name=\"secondary\" className=\"form__url form__input\" type=\"url\" placeholder=\"Image link\" value={url} onChange={handleUrl} required />\n                <span id=\"form-url-error\" className=\"form__error\"></span>\n            </label>\n        </PopupWithForm>\n    );\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n    return (\n      <Route>\n          {\n              () => props.loggedIn ? <Component {...props} /> : <Redirect to='/signin' />\n          }\n      </Route>\n  );\n}\n\nexport default ProtectedRoute;\n","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport Header from './Header';\n\nclass Register extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: '',\n            password: ''\n        }\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleChange(e) {\n        const {name, value} = e.target;\n        this.setState({ [name]: value });\n    }\n\n    handleSubmit(e) {\n        e.preventDefault();\n        const { email, password } = this.state;\n        this.props.register(email, password);\n    }\n\n    render() {\n        return (\n            <>\n                <Header linkText=\"Log In\" linkTo=\"/signin\" />\n                <main className=\"content\">\n                    <form className=\"register\">\n                        <h2 className=\"register__header\">Sign Up</h2>\n                        <input name=\"email\" className=\"register__input\" type=\"text\" value={this.state.email} onChange={this.handleChange} placeholder=\"Email\"/>\n                        <input name=\"password\" className=\"register__input\" type=\"password\" value={this.state.password} onChange={this.handleChange} placeholder=\"Password\" />\n                        <button className=\"register__button btn-animate\" onClick={this.handleSubmit}>Sign Up</button>\n                        <Link to=\"/signin\" className=\"register__link btn-animate\">Already a member? Log in here!</Link>                        \n                    </form>\n                </main>\n            </>\n        );\n    }\n}\n\nexport default withRouter(Register);","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport Header from './Header';\n\nclass Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: '',\n            password: ''\n        }\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    };\n\n    handleChange(e) {\n        const {name, value} = e.target;\n        this.setState({ [name]: value });\n    }\n\n    handleSubmit(e) {\n        e.preventDefault();\n        const { email, password } = this.state;\n        this.props.logIn(email, password);\n    }\n\n    render() {\n        return (\n            <>\n                <Header linkText=\"Sign Up\" linkTo=\"/signup\" />\n                <main className=\"content\">\n                    <form className=\"register\">\n                        <h2 className=\"register__header\">Log In</h2>\n                        <input name=\"email\" className=\"register__input\" type=\"text\" value={this.state.email} onChange={this.handleChange} placeholder=\"Email\"/>\n                        <input name=\"password\" className=\"register__input\" type=\"password\" value={this.state.password} onChange={this.handleChange} placeholder=\"Password\" />\n                        <button className=\"register__button btn-animate\" onClick={this.handleSubmit}>Log In</button>\n                        <Link to=\"/signup\" className=\"register__link btn-animate\">Not a member yet? Sign up here!</Link>                        \n                    </form>\n                </main>\n            </>\n        );\n    }\n}\n\nexport default withRouter(Login);","import React from 'react';\nimport { withRouter } from 'react-router-dom';\n\n\nclass InfoToolTip extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {};\n    }\n\n    render() {\n        return (\n            <div className={`form ${this.props.isOpen && (`popup-opened`)}`}>\n                <div className=\"form__container\">\n                    <div className={`form__tool-icon ${this.props.success ? `form__tool-icon_success` : `form__tool-icon_failure`}`} />\n                    <h2 className=\"form__tool-tip\">{this.props.success ? \"Success! You have now been registered.\" : \"Oops, something went wrong! Please try again.\"}</h2>\n                    <button type=\"button\" aria-label=\"Close Form Button\" className=\"form__exit-btn btn-animate\" onClick={this.props.onClose}></button>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(InfoToolTip);","//const BASE_URL = 'https://register.nomoreparties.co';\nconst BASE_URL = 'https://api.ws.p15.students.nomoreparties.site';\n\nexport const register = (email, password) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ \"name\": \"Name\", \"about\": \"About me\", \"avatar\": \"https://icon-library.com/images/default-user-icon/default-user-icon-6.jpg\", \"password\": password, \"email\": email })\n    }).then((res) => {\n        if (res.status === 201) {\n            return res.json();\n        } else {\n            throw new Error('Unsuccessful registration');\n        }\n    });\n};\n\nexport const authorize = (email, password) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ \"password\": password, \"email\": email })\n    }).then((res) => {\n        if (res.status === 201) {\n            return res.json();\n        } else {\n            throw new Error('Unsuccessful login');\n        }\n    }).then((data) => {\n        localStorage.setItem('jwt', data.token);\n        return true;\n    });\n};\n\nexport const getUser = (token) => {\n    return fetch(`${BASE_URL}/user`, {\n        method: 'GET',\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n        }\n    }).then((res) => {\n        if (res.status === 200) {\n            return res.json();\n        }\n    })\n}","import React from 'react';\nimport { Route, Switch, Redirect, withRouter } from 'react-router-dom';\nimport Main from './Main.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport ImagePopup from './ImagePopup.js';\nimport api from '../utils/api.js';\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport ProtectedRoute from './ProtectedRoute';\nimport Register from './Register';\nimport Login from './Login';\nimport InfoToolTip from './InfoToolTip'\nimport * as auth from '../utils/auth.js';\n\nclass App extends React.Component {\n    constructor() {\n        super();\n        this.state={\n            isLoggedIn: null,\n            userEmail: '',\n            currentUser: {},\n            isEditProfileOpen: false,\n            isAddPlaceOpen: false,\n            isEditAvatarOpen: false,\n            isInfoToolTipOpen: false,\n            regSuccess: false,\n            selectedCard: null,\n            cards: [],\n        };\n        this.handleEditAvatarClick = this.handleEditAvatarClick.bind(this);\n        this.handleEditProfileClick = this.handleEditProfileClick.bind(this);\n        this.handleAddPlaceClick = this.handleAddPlaceClick.bind(this);\n        this.handleAuthRegClick = this.handleAuthRegClick.bind(this);\n        this.closeAllPopups = this.closeAllPopups.bind(this);\n        this.handleCardClick = this.handleCardClick.bind(this);\n        this.handleUpdateUser = this.handleUpdateUser.bind(this);\n        this.handleUpdateAvatar = this.handleUpdateAvatar.bind(this);\n        this.handleCardLike = this.handleCardLike.bind(this);\n        this.handleCardDelete = this.handleCardDelete.bind(this);\n        this.handleAddPlace= this.handleAddPlace.bind(this);\n        this.handleLogIn = this.handleLogIn.bind(this);\n        this.handleLogOut = this.handleLogOut.bind(this);\n        this.handleRegister = this.handleRegister.bind(this);\n    }\n\n    componentDidMount() {\n        // Check if user has jwt token\n        const jwt = localStorage.getItem('jwt');\n\n        if (jwt) {\n            auth.getUser(jwt).then((res) => {\n                if (res) {\n                    console.log(res);\n                    this.setState({ \n                        isLoggedIn: true,\n                        userEmail: res.data.email,\n                        currentUser: res.data,\n                    });\n                }\n            }).then(() => {\n                this.props.history.push('/');\n            }).catch((err) => { \n                console.log(err) \n            });\n        }   \n            //  // Get user info for profile section\n            // api.getUserInfo(jwt).then((res) => { \n            //     this.setState({ currentUser: res }); \n            // }).catch((err) => { \n            //     console.log(err) \n            // });\n            \n            // Get initial cards\n            api.getInitialCards(jwt).then((res) => { \n                if (res) {\n                    this.setState({ cards: res});\n                }\n            }).catch((err) => { \n                console.log(err) \n            });\n    }\n\n    // componentDidUpdate() {\n    //     const jwt = localStorage.getItem('jwt');\n    //     // Get user info for profile section\n    //     api.getUserInfo(jwt).then((res) => { \n    //         this.setState({ currentUser: res}); \n    //     }).catch((err) => { \n    //         console.log(err) \n    //     });    \n    //     // Get initial cards\n    //     api.getInitialCards(jwt).then((res) => { \n    //         this.setState({ cards: res}); \n    //     }).catch((err) => { \n    //         console.log(err) \n    //     });\n    // }\n\n    handleLogIn(email, password) {\n        auth.authorize(email, password).then((res) => {\n            console.log(res);\n            if (res) {\n                this.setState({ isLoggedIn: true, userEmail: email }, \n                    () => this.props.history.push('/'));\n            } else {\n                this.handleAuthRegClick(false);\n            }\n        }).catch((err) => { \n            console.log(err) \n        });\n    }\n\n    handleRegister(email, password) {\n        auth.register(email, password).then((res) => {\n            if (res) {\n                console.log(res);\n                this.handleAuthRegClick(true);\n                this.props.history.push('/signin');\n            } else {\n                this.handleAuthRegClick(false);\n            }\n        }).catch((err) => { \n            this.handleAuthRegClick(false)\n            console.log(err) \n        });\n    }\n\n    handleLogOut() {\n        localStorage.removeItem('jwt');\n        this.setState({ isLoggedIn: false, email: null });\n    }\n\n    handleEditAvatarClick() {\n        this.setState({ isEditAvatarOpen: true });\n    }\n\n    handleEditProfileClick() {\n        this.setState({ isEditProfileOpen: true });\n    }\n\n    handleAddPlaceClick() {\n        this.setState({ isAddPlaceOpen: true });\n    }\n\n    handleAuthRegClick(result) {\n        this.setState({\n            regSuccess: result,\n            isInfoToolTipOpen: true\n        });\n    }\n\n    closeAllPopups() {\n        this.setState({\n            isEditAvatarOpen: false,\n            isEditProfileOpen: false,\n            isAddPlaceOpen: false,\n            isInfoToolTipOpen: false,\n            selectedCard: null\n        });\n    }\n\n    handleCardClick(card) {\n        this.setState({ selectedCard: card });\n    }\n\n    handleUpdateUser(newInfo) {\n        api.patchUserInfo(newInfo)\n            .then((res) => { this.setState({ currentUser: res }, this.closeAllPopups())})\n            .catch((err) => { console.log(err) });\n    }\n\n    handleUpdateAvatar(avatar) {\n        api.patchUserPic(avatar)\n            .then((res) => { this.setState({ currentUser: res }, this.closeAllPopups())})\n            .catch((err) => { console.log(err) });\n    }\n\n    handleCardLike(card) {\n        const isLiked = card.likes.some(i => i._id === this.state.currentUser._id);\n        api.likeCard(card, isLiked)\n            .then((res) => {\n                const newCards = this.state.cards.map((c) => c._id === card._id ? res : c);\n                this.setState({ cards: newCards });\n            })\n            .catch((err) => { console.log(err) });\n    }\n\n    handleCardDelete(card) {\n        api.deleteCard(card._id)\n            .then(() => {\n                const newCards = this.state.cards.filter((c) => c._id !== card._id);\n                this.setState({ cards: newCards });\n            }).catch((err) => { \n                console.log(err) \n            });\n    }\n\n    handleAddPlace(card) {\n        api.addNewCard(card)\n            .then((res) => {\n                const newCards = [...this.state.cards, res];\n                this.setState({ cards: newCards }, this.closeAllPopups());\n            }).catch((err) => { \n                console.log(err) \n            });\n        \n    }\n\n    render() {\n        return (\n            <CurrentUserContext.Provider value={this.state.currentUser}>\n                <Switch>\n                    <ProtectedRoute exact path=\"/\" component={Main} loggedIn={this.state.isLoggedIn} userEmail={this.state.userEmail} \n                        onEditProfile={this.handleEditProfileClick} onAddPlace={this.handleAddPlaceClick} onEditAvatar={this.handleEditAvatarClick}\n                        onCardClick={this.handleCardClick} onClose={this.closeAllPopups} cards={this.state.cards} onCardLike={this.handleCardLike} \n                        onCardDelete={this.handleCardDelete} logOut={this.handleLogOut} />\n                    <Route path='/signup'>\n                        <Register register={this.handleRegister} />\n                    </Route>\n                    <Route path='/signin'>\n                        <Login logIn={this.handleLogIn} />\n                    </Route>\n                    <Route path='*'>\n                        <Redirect to=\"/signin\" />\n                    </Route>\n                </Switch>\n                \n                {/* Popup ToolTip for Registration/Login */}\n                <InfoToolTip isOpen={this.state.isInfoToolTipOpen} success={this.state.regSuccess} onClose={this.closeAllPopups} />    \n\n                {/* Popup Edit User Info Form */}\n                <EditProfilePopup isOpen={this.state.isEditProfileOpen} onClose={this.closeAllPopups} onUpdateUser={this.handleUpdateUser} />\n\n                {/* Popup Edit User Pic Form */}\n                <EditAvatarPopup isOpen={this.state.isEditAvatarOpen} onClose={this.closeAllPopups} onUpdateAvatar={this.handleUpdateAvatar} currentUser={this.state.currentUser} />\n\n                {/* Popup Add Form */}\n                <AddPlacePopup isOpen={this.state.isAddPlaceOpen} onClose={this.closeAllPopups} onAddPlace={this.handleAddPlace} />\n\n                {/* Popup Delete Form */}\n                {/* <PopupWithForm name=\"form-delete\" title=\"Are you sure?\" isOpen={null} btnText=\"Yes\" onClose={this.closeAllPopups} /> */}\n\n                {/* Image Popup */}\n                <ImagePopup card={this.state.selectedCard} onClose={this.closeAllPopups} />\n\n            </CurrentUserContext.Provider>\n        );\n    }\n}\n\nexport default withRouter(App);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();"],"sourceRoot":""}