{"ast":null,"code":"import _classCallCheck from\"/Users/william/Documents/Programming/Practicum/project-10-11-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/william/Documents/Programming/Practicum/project-10-11-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";// ###########################  API Class  ########################################################\nvar Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this.options=options;}_createClass(Api,[{key:\"getUserInfo\",value:function getUserInfo(){return fetch(\"\".concat(this.options.baseUrl,\"/users/me\"),{headers:this.options.headers}).then(function(res){if(res.ok){return res.json();}else{return Promise.reject(\"Error: \".concat(res.status));}});}},{key:\"patchUserInfo\",value:function patchUserInfo(_ref){var newName=_ref.name,newAbout=_ref.about;return fetch(\"\".concat(this.options.baseUrl,\"/users/me\"),{method:\"PATCH\",headers:this.options.headers,body:JSON.stringify({name:newName,about:newAbout})}).then(function(res){if(res.ok){return res.json();}else{return Promise.reject(\"Error: \".concat(res.status));}});}},{key:\"patchUserPic\",value:function patchUserPic(_ref2){var newUrl=_ref2.avatar;return fetch(\"\".concat(this.options.baseUrl,\"/users/me/avatar\"),{method:\"PATCH\",headers:this.options.headers,body:JSON.stringify({avatar:newUrl})}).then(function(res){if(res.ok){return res.json();}else{return Promise.reject(\"Error: \".concat(res.status));}});}},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(\"\".concat(this.options.baseUrl,\"/cards\"),{headers:this.options.headers}).then(function(res){if(res.ok){return res.json();}else{return Promise.reject(\"Error: \".concat(res.status));}});}},{key:\"addNewCard\",value:function addNewCard(_ref3){var newName=_ref3.name,newLink=_ref3.link;return fetch(\"\".concat(this.options.baseUrl,\"/cards\"),{method:\"POST\",headers:this.options.headers,body:JSON.stringify({name:newName,link:newLink})}).then(function(res){if(res.ok){return res.json();}else{return Promise.reject(\"Error: \".concat(res.status));}});}},{key:\"deleteCard\",value:function deleteCard(cardId){return fetch(\"\".concat(this.options.baseUrl,\"/cards/\").concat(cardId),{method:\"DELETE\",headers:this.options.headers}).then(function(res){if(res.ok){return res.json();}else{return Promise.reject(\"Error: \".concat(res.status));}});}},{key:\"likeCard\",value:function likeCard(cardData,isLiked){// If the card is already liked by the user, the like is removed, else a like is added\nif(isLiked){return fetch(\"\".concat(this.options.baseUrl,\"/cards/likes/\").concat(cardData._id),{method:\"DELETE\",headers:this.options.headers}).then(function(res){if(res.ok){return res.json();}else{return Promise.reject(\"Error: \".concat(res.status));}});}else{return fetch(\"\".concat(this.options.baseUrl,\"/cards/likes/\").concat(cardData._id),{method:\"PUT\",headers:this.options.headers}).then(function(res){if(res.ok){return res.json();}else{return Promise.reject(\"Error: \".concat(res.status));}});}}}]);return Api;}();var api=new Api({baseUrl:\"https://around.nomoreparties.co/v1/group-1\",headers:{authorization:\"b3ddd9c8-cc64-4470-93b1-0840e92522c5\",\"Content-Type\":\"application/json\"}});export default api;","map":{"version":3,"sources":["/Users/william/Documents/Programming/Practicum/project-10-11-react/src/utils/api.js"],"names":["Api","options","fetch","baseUrl","headers","then","res","ok","json","Promise","reject","status","newName","name","newAbout","about","method","body","JSON","stringify","newUrl","avatar","newLink","link","cardId","cardData","isLiked","_id","api","authorization"],"mappings":"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","sourcesContent":["// ###########################  API Class  ########################################################\n\nclass Api {\n    constructor(options) {\n      this.options = options;\n    }\n  \n    getUserInfo() {\n        return fetch(`${this.options.baseUrl}/users/me`, {\n            headers: this.options.headers,\n        })\n          .then(res => {\n            if (res.ok) {\n                return res.json();\n            } else {\n                return Promise.reject(`Error: ${res.status}`);\n            }\n          });\n    }\n\n    patchUserInfo({ name: newName, about: newAbout }) {\n        return fetch(`${this.options.baseUrl}/users/me`, {\n            method: \"PATCH\",\n            headers: this.options.headers,\n            body: JSON.stringify({ name: newName, about: newAbout })\n        })\n            .then(res => {\n                if (res.ok) {\n                    return res.json();\n                } else {\n                    return Promise.reject(`Error: ${res.status}`);\n                }\n            });\n    }\n\n    patchUserPic({ avatar: newUrl }) {\n        return fetch(`${this.options.baseUrl}/users/me/avatar`, {\n            method: \"PATCH\",\n            headers: this.options.headers,\n            body: JSON.stringify({ avatar: newUrl })\n        })\n            .then(res => {\n                if (res.ok) {\n                    return res.json();\n                } else {\n                    return Promise.reject(`Error: ${res.status}`);\n                }\n            });\n    }\n\n    getInitialCards() {\n        return fetch(`${this.options.baseUrl}/cards`, {\n          headers: this.options.headers,\n        })\n          .then(res => {\n            if (res.ok) {\n                return res.json();\n            } else {\n                return Promise.reject(`Error: ${res.status}`);\n            }\n          });\n    }\n    \n    addNewCard({ name: newName, link: newLink }) {\n        return fetch(`${this.options.baseUrl}/cards`, {\n            method: \"POST\",\n            headers: this.options.headers,\n            body: JSON.stringify({ name: newName, link: newLink })\n          })\n            .then(res => {\n              if (res.ok) {\n                  return res.json();\n              } else {\n                  return Promise.reject(`Error: ${res.status}`);\n              }\n            });\n    }\n\n    deleteCard(cardId) {\n        return fetch(`${this.options.baseUrl}/cards/${cardId}`, {\n            method: \"DELETE\",\n            headers: this.options.headers,\n        })\n            .then(res => {\n                if (res.ok) {\n                    return res.json();\n                } else {\n                    return Promise.reject(`Error: ${res.status}`);\n                }\n            });\n    }\n\n    likeCard(cardData, isLiked) {\n        // If the card is already liked by the user, the like is removed, else a like is added\n        if (isLiked) {\n            return fetch(`${this.options.baseUrl}/cards/likes/${cardData._id}`, {\n                method: \"DELETE\",\n                headers: this.options.headers,\n            })\n                .then(res => {\n                    if (res.ok) {\n                        return res.json();\n                    } else {\n                        return Promise.reject(`Error: ${res.status}`);\n                    }\n                });\n        } else {\n            return fetch(`${this.options.baseUrl}/cards/likes/${cardData._id}`, {\n                method: \"PUT\",\n                headers: this.options.headers,\n            })\n                .then(res => {\n                    if (res.ok) {\n                        return res.json();\n                    } else {\n                        return Promise.reject(`Error: ${res.status}`);\n                    }\n                });\n        }\n        \n    }\n}\n\nconst api = new Api({\n    baseUrl: \"https://around.nomoreparties.co/v1/group-1\",\n    headers: {\n        authorization: \"b3ddd9c8-cc64-4470-93b1-0840e92522c5\",\n        \"Content-Type\": \"application/json\"\n    }\n});\n\nexport default api;"]},"metadata":{},"sourceType":"module"}