{"ast":null,"code":"import _classCallCheck from\"/Users/william/Documents/Programming/Practicum/react-around-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/william/Documents/Programming/Practicum/react-around-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";// ###########################  API Class  ########################################################\nvar Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this.options=options;}_createClass(Api,[{key:\"getUserInfo\",value:function getUserInfo(){return fetch(\"\".concat(this.options.baseUrl,\"/users/me\"),{method:\"GET\",credentials:\"include\",mode:\"no-cors\",headers:this.options.headers}).then(function(res){if(res.ok){return res.json();}else{return Promise.reject(\"Error: \".concat(res.status));}});}},{key:\"patchUserInfo\",value:function patchUserInfo(_ref){var newName=_ref.name,newAbout=_ref.about;return fetch(\"\".concat(this.options.baseUrl,\"/users/me\"),{method:\"PATCH\",credentials:\"include\",mode:\"no-cors\",headers:this.options.headers,body:JSON.stringify({name:newName,about:newAbout})}).then(function(res){if(res.ok){return res.json();}else{return Promise.reject(\"Error: \".concat(res.status));}});}},{key:\"patchUserPic\",value:function patchUserPic(_ref2){var newUrl=_ref2.avatar;return fetch(\"\".concat(this.options.baseUrl,\"/users/me/avatar\"),{method:\"PATCH\",credentials:\"include\",mode:\"no-cors\",headers:this.options.headers,body:JSON.stringify({avatar:newUrl})}).then(function(res){if(res.ok){return res.json();}else{return Promise.reject(\"Error: \".concat(res.status));}});}},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(\"\".concat(this.options.baseUrl,\"/cards\"),{credentials:\"include\",mode:\"no-cors\",headers:this.options.headers}).then(function(res){if(res.ok){return res.json();}else{return Promise.reject(\"Error: \".concat(res.status));}});}},{key:\"addNewCard\",value:function addNewCard(_ref3){var newName=_ref3.name,newLink=_ref3.link;return fetch(\"\".concat(this.options.baseUrl,\"/cards\"),{method:\"POST\",credentials:\"include\",mode:\"no-cors\",headers:this.options.headers,body:JSON.stringify({name:newName,link:newLink})}).then(function(res){if(res.ok){return res.json();}else{return Promise.reject(\"Error: \".concat(res.status));}});}},{key:\"deleteCard\",value:function deleteCard(cardId){return fetch(\"\".concat(this.options.baseUrl,\"/cards/\").concat(cardId),{method:\"DELETE\",credentials:\"include\",mode:\"no-cors\",headers:this.options.headers}).then(function(res){if(res.ok){return res.json();}else{return Promise.reject(\"Error: \".concat(res.status));}});}},{key:\"likeCard\",value:function likeCard(cardData,isLiked){// If the card is already liked by the user, the like is removed, else a like is added\nif(isLiked){return fetch(\"\".concat(this.options.baseUrl,\"/cards/likes/\").concat(cardData._id),{method:\"DELETE\",credentials:\"include\",mode:\"no-cors\",headers:this.options.headers}).then(function(res){if(res.ok){return res.json();}else{return Promise.reject(\"Error: \".concat(res.status));}});}else{return fetch(\"\".concat(this.options.baseUrl,\"/cards/likes/\").concat(cardData._id),{method:\"PUT\",credentials:\"include\",mode:\"no-cors\",headers:this.options.headers}).then(function(res){if(res.ok){return res.json();}else{return Promise.reject(\"Error: \".concat(res.status));}});}}}]);return Api;}();var api=new Api({baseUrl:\"https://api.ws.p15.students.nomoreparties.site\",headers:{\"Content-Type\":\"application/json\"}});// const api = new Api({\n//     baseUrl: \"https://around.nomoreparties.co/v1/group-1\",\n//     headers: {\n//         authorization: \"b3ddd9c8-cc64-4470-93b1-0840e92522c5\",\n//         \"Content-Type\": \"application/json\"\n//     }\n// });\nexport default api;","map":{"version":3,"sources":["/Users/william/Documents/Programming/Practicum/react-around-auth/src/utils/api.js"],"names":["Api","options","fetch","baseUrl","method","credentials","mode","headers","then","res","ok","json","Promise","reject","status","newName","name","newAbout","about","body","JSON","stringify","newUrl","avatar","newLink","link","cardId","cardData","isLiked","_id","api"],"mappings":"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","sourcesContent":["// ###########################  API Class  ########################################################\n\nclass Api {\n    constructor(options) {\n      this.options = options;\n    }\n  \n    getUserInfo() {\n        return fetch(`${this.options.baseUrl}/users/me`, {\n            method: \"GET\",\n            credentials: \"include\",\n            mode: \"no-cors\",\n            headers: this.options.headers,\n        })\n          .then(res => {\n            if (res.ok) {\n                return res.json();\n            } else {\n                return Promise.reject(`Error: ${res.status}`);\n            }\n          });\n    }\n\n    patchUserInfo({ name: newName, about: newAbout }) {\n        return fetch(`${this.options.baseUrl}/users/me`, {\n            method: \"PATCH\",\n            credentials: \"include\",\n            mode: \"no-cors\",\n            headers: this.options.headers,\n            body: JSON.stringify({ name: newName, about: newAbout })\n        })\n            .then(res => {\n                if (res.ok) {\n                    return res.json();\n                } else {\n                    return Promise.reject(`Error: ${res.status}`);\n                }\n            });\n    }\n\n    patchUserPic({ avatar: newUrl }) {\n        return fetch(`${this.options.baseUrl}/users/me/avatar`, {\n            method: \"PATCH\",\n            credentials: \"include\",\n            mode: \"no-cors\",\n            headers: this.options.headers,\n            body: JSON.stringify({ avatar: newUrl })\n        })\n            .then(res => {\n                if (res.ok) {\n                    return res.json();\n                } else {\n                    return Promise.reject(`Error: ${res.status}`);\n                }\n            });\n    }\n\n    getInitialCards() {\n        return fetch(`${this.options.baseUrl}/cards`, {\n            credentials: \"include\",\n            mode: \"no-cors\",\n            headers: this.options.headers,\n        })\n          .then(res => {\n            if (res.ok) {\n                return res.json();\n            } else {\n                return Promise.reject(`Error: ${res.status}`);\n            }\n          });\n    }\n    \n    addNewCard({ name: newName, link: newLink }) {\n        return fetch(`${this.options.baseUrl}/cards`, {\n            method: \"POST\",\n            credentials: \"include\",\n            mode: \"no-cors\",\n            headers: this.options.headers,\n            body: JSON.stringify({ name: newName, link: newLink })\n          })\n            .then(res => {\n              if (res.ok) {\n                  return res.json();\n              } else {\n                  return Promise.reject(`Error: ${res.status}`);\n              }\n            });\n    }\n\n    deleteCard(cardId) {\n        return fetch(`${this.options.baseUrl}/cards/${cardId}`, {\n            method: \"DELETE\",\n            credentials: \"include\",\n            mode: \"no-cors\",\n            headers: this.options.headers,\n        })\n            .then(res => {\n                if (res.ok) {\n                    return res.json();\n                } else {\n                    return Promise.reject(`Error: ${res.status}`);\n                }\n            });\n    }\n\n    likeCard(cardData, isLiked) {\n        // If the card is already liked by the user, the like is removed, else a like is added\n        if (isLiked) {\n            return fetch(`${this.options.baseUrl}/cards/likes/${cardData._id}`, {\n                method: \"DELETE\",\n                credentials: \"include\",\n                mode: \"no-cors\",\n                headers: this.options.headers,\n            })\n                .then(res => {\n                    if (res.ok) {\n                        return res.json();\n                    } else {\n                        return Promise.reject(`Error: ${res.status}`);\n                    }\n                });\n        } else {\n            return fetch(`${this.options.baseUrl}/cards/likes/${cardData._id}`, {\n                method: \"PUT\",\n                credentials: \"include\",\n                mode: \"no-cors\",\n                headers: this.options.headers,\n            })\n                .then(res => {\n                    if (res.ok) {\n                        return res.json();\n                    } else {\n                        return Promise.reject(`Error: ${res.status}`);\n                    }\n                });\n        }\n        \n    }\n}\n\nconst api = new Api({\n    baseUrl: \"https://api.ws.p15.students.nomoreparties.site\",\n    headers: {\n        \"Content-Type\": \"application/json\",\n    }\n});\n\n// const api = new Api({\n//     baseUrl: \"https://around.nomoreparties.co/v1/group-1\",\n//     headers: {\n//         authorization: \"b3ddd9c8-cc64-4470-93b1-0840e92522c5\",\n//         \"Content-Type\": \"application/json\"\n//     }\n// });\n\nexport default api;"]},"metadata":{},"sourceType":"module"}