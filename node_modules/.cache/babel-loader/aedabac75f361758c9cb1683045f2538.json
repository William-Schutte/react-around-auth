{"ast":null,"code":"import _classCallCheck from\"/Users/william/Documents/Programming/Practicum/react-around-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/william/Documents/Programming/Practicum/react-around-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/william/Documents/Programming/Practicum/react-around-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/william/Documents/Programming/Practicum/react-around-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/william/Documents/Programming/Practicum/react-around-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import PopupWithForm from'./PopupWithForm.js';var EditAvatarPopup=/*#__PURE__*/function(_React$Component){_inherits(EditAvatarPopup,_React$Component);var _super=_createSuper(EditAvatarPopup);function EditAvatarPopup(props){var _this;_classCallCheck(this,EditAvatarPopup);_this=_super.call(this,props);_this.state={avatar:'',isOpen:_this.props.isOpen};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleClose=_this.handleClose.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(EditAvatarPopup,[{key:\"handleChange\",value:function handleChange(e){var value=e.target.value;this.setState({avatar:value});}},{key:\"handleClose\",value:function handleClose(){this.props.onClose();}},{key:\"handleSubmit\",value:function handleSubmit(e){e.preventDefault();this.props.onUpdateAvatar({avatar:this.state.avatar});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.isOpen===true&&this.props.isOpen===false){this.setState({avatar:''});}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(PopupWithForm,{name:\"form-pic\",title:\"Change userpic\",isOpen:this.props.isOpen,btnText:\"Save\",onClose:this.handleClose,onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"label\",{className:\"form__input-field\"},/*#__PURE__*/React.createElement(\"input\",{id:\"form-name\",name:\"primary\",className:\"form__name form__input\",type:\"url\",value:this.state.avatar,placeholder:this.props.currentUser.avatar,onChange:this.handleChange,required:true}),/*#__PURE__*/React.createElement(\"span\",{id:\"form-name-error\",className:\"form__error\"})));}}]);return EditAvatarPopup;}(React.Component);export default EditAvatarPopup;","map":{"version":3,"sources":["/Users/william/Documents/Programming/Practicum/react-around-auth/src/components/EditAvatarPopup.js"],"names":["React","PopupWithForm","EditAvatarPopup","props","state","avatar","isOpen","handleChange","bind","handleClose","handleSubmit","e","value","target","setState","onClose","preventDefault","onUpdateAvatar","prevProps","currentUser","Component"],"mappings":"m5BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,oBAA1B,C,GAEMC,CAAAA,e,8HACF,yBAAYC,KAAZ,CAAmB,iDACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,MAAM,CAAE,EADC,CAETC,MAAM,CAAE,MAAKH,KAAL,CAAWG,MAFV,CAAb,CAIA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,WAAL,CAAmB,MAAKA,WAAL,CAAiBD,IAAjB,+BAAnB,CACA,MAAKE,YAAL,CAAoB,MAAKA,YAAL,CAAkBF,IAAlB,+BAApB,CARe,aASlB,C,8EAEYG,C,CAAG,IACLC,CAAAA,KADK,CACID,CAAC,CAACE,MADN,CACLD,KADK,CAEZ,KAAKE,QAAL,CAAc,CAAET,MAAM,CAAEO,KAAV,CAAd,EACH,C,iDAEa,CACV,KAAKT,KAAL,CAAWY,OAAX,GACH,C,kDAEYJ,C,CAAG,CACZA,CAAC,CAACK,cAAF,GACA,KAAKb,KAAL,CAAWc,cAAX,CAA0B,CAAEZ,MAAM,CAAE,KAAKD,KAAL,CAAWC,MAArB,CAA1B,EACH,C,8DAEkBa,S,CAAW,CAC1B,GAAIA,SAAS,CAACZ,MAAV,GAAqB,IAArB,EAA6B,KAAKH,KAAL,CAAWG,MAAX,GAAsB,KAAvD,CAA8D,CAC1D,KAAKQ,QAAL,CAAc,CAAET,MAAM,CAAE,EAAV,CAAd,EACH,CACJ,C,uCAEQ,CACL,mBACI,oBAAC,aAAD,EAAe,IAAI,CAAC,UAApB,CAA+B,KAAK,CAAC,gBAArC,CAAsD,MAAM,CAAE,KAAKF,KAAL,CAAWG,MAAzE,CAAiF,OAAO,CAAC,MAAzF,CAAgG,OAAO,CAAE,KAAKG,WAA9G,CAA2H,QAAQ,CAAE,KAAKC,YAA1I,eACI,6BAAO,SAAS,CAAC,mBAAjB,eACI,6BAAO,EAAE,CAAC,WAAV,CAAsB,IAAI,CAAC,SAA3B,CAAqC,SAAS,CAAC,wBAA/C,CAAwE,IAAI,CAAC,KAA7E,CAAmF,KAAK,CAAE,KAAKN,KAAL,CAAWC,MAArG,CAA6G,WAAW,CAAE,KAAKF,KAAL,CAAWgB,WAAX,CAAuBd,MAAjJ,CAAyJ,QAAQ,CAAE,KAAKE,YAAxK,CAAsL,QAAQ,KAA9L,EADJ,cAEI,4BAAM,EAAE,CAAC,iBAAT,CAA2B,SAAS,CAAC,aAArC,EAFJ,CADJ,CADJ,CAQH,C,6BAzCyBP,KAAK,CAACoB,S,EA4CpC,cAAelB,CAAAA,eAAf","sourcesContent":["import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nclass EditAvatarPopup extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            avatar: '',\n            isOpen: this.props.isOpen,\n        }\n        this.handleChange = this.handleChange.bind(this);\n        this.handleClose = this.handleClose.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n    \n    handleChange(e) {\n        const {value} = e.target\n        this.setState({ avatar: value })\n    }\n\n    handleClose() {\n        this.props.onClose();\n    }\n\n    handleSubmit(e) {\n        e.preventDefault();\n        this.props.onUpdateAvatar({ avatar: this.state.avatar });\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.isOpen === true && this.props.isOpen === false) {\n            this.setState({ avatar: '' });\n        }\n    }\n\n    render() {\n        return (\n            <PopupWithForm name=\"form-pic\" title=\"Change userpic\" isOpen={this.props.isOpen} btnText=\"Save\" onClose={this.handleClose} onSubmit={this.handleSubmit}>\n                <label className=\"form__input-field\">\n                    <input id=\"form-name\" name=\"primary\" className=\"form__name form__input\" type=\"url\" value={this.state.avatar} placeholder={this.props.currentUser.avatar} onChange={this.handleChange} required />\n                    <span id=\"form-name-error\" className=\"form__error\"></span>\n                </label>\n            </PopupWithForm>\n        );\n    };\n}\n\nexport default EditAvatarPopup;"]},"metadata":{},"sourceType":"module"}