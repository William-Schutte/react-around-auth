{"ast":null,"code":"import _defineProperty from\"/Users/william/Documents/Programming/Practicum/react-around-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/william/Documents/Programming/Practicum/react-around-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/william/Documents/Programming/Practicum/react-around-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/william/Documents/Programming/Practicum/react-around-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/william/Documents/Programming/Practicum/react-around-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/william/Documents/Programming/Practicum/react-around-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{withRouter,Link}from'react-router-dom';import*as auth from'../utils/auth';import Header from'./Header';var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.state={email:'',password:''};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"handleChange\",value:function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;this.setState(_defineProperty({},name,value));}},{key:\"handleSubmit\",value:function handleSubmit(e){var _this2=this;e.preventDefault();var _this$state=this.state,email=_this$state.email,password=_this$state.password;auth.authorize(email,password).then(function(res){if(res){_this2.setState({email:'',password:''},function(){_this2.props.setLoggedIn({loggedIn:true,email:email});_this2.props.history.push('/');});}else{_this2.props.onClick(false);}});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,{linkText:\"Sign Up\",linkTo:\"/signup\"}),/*#__PURE__*/React.createElement(\"main\",{className:\"content\"},/*#__PURE__*/React.createElement(\"form\",{className:\"register\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"register__header\"},\"Log In\"),/*#__PURE__*/React.createElement(\"input\",{name:\"email\",className:\"register__input\",type:\"text\",value:this.state.email,onChange:this.handleChange,placeholder:\"Email\"}),/*#__PURE__*/React.createElement(\"input\",{name:\"password\",className:\"register__input\",type:\"password\",value:this.state.password,onChange:this.handleChange,placeholder:\"Password\"}),/*#__PURE__*/React.createElement(\"button\",{className:\"register__button btn-animate\",onClick:this.handleSubmit},\"Log In\"),/*#__PURE__*/React.createElement(Link,{to:\"/signup\",className:\"register__link btn-animate\"},\"Not a member yet? Sign up here!\"))));}}]);return Login;}(React.Component);export default withRouter(Login);","map":{"version":3,"sources":["/Users/william/Documents/Programming/Practicum/react-around-auth/src/components/Login.js"],"names":["React","withRouter","Link","auth","Header","Login","props","state","email","password","handleChange","bind","handleSubmit","e","target","name","value","setState","preventDefault","authorize","then","res","setLoggedIn","loggedIn","history","push","onClick","Component"],"mappings":"4kCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,CAAqBC,IAArB,KAAiC,kBAAjC,CACA,MAAO,GAAKC,CAAAA,IAAZ,KAAsB,eAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,C,GAEMC,CAAAA,K,0GACF,eAAYC,KAAZ,CAAmB,uCACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,KAAK,CAAE,EADE,CAETC,QAAQ,CAAE,EAFD,CAAb,CAIA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBD,IAAlB,+BAApB,CAPe,aAQlB,C,oEAEYE,C,CAAG,eACUA,CAAC,CAACC,MADZ,CACLC,IADK,WACLA,IADK,CACCC,KADD,WACCA,KADD,CAEZ,KAAKC,QAAL,oBAAiBF,IAAjB,CAAwBC,KAAxB,GACH,C,kDAEYH,C,CAAG,iBACZA,CAAC,CAACK,cAAF,GADY,gBAEgB,KAAKX,KAFrB,CAEJC,KAFI,aAEJA,KAFI,CAEGC,QAFH,aAEGA,QAFH,CAGZN,IAAI,CAACgB,SAAL,CAAeX,KAAf,CAAsBC,QAAtB,EAAgCW,IAAhC,CAAqC,SAACC,GAAD,CAAS,CAC1C,GAAIA,GAAJ,CAAS,CACL,MAAI,CAACJ,QAAL,CAAc,CAAET,KAAK,CAAE,EAAT,CAAaC,QAAQ,CAAE,EAAvB,CAAd,CACA,UAAM,CACF,MAAI,CAACH,KAAL,CAAWgB,WAAX,CAAuB,CAAEC,QAAQ,CAAE,IAAZ,CAAkBf,KAAK,CAALA,KAAlB,CAAvB,EACA,MAAI,CAACF,KAAL,CAAWkB,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EAA+B,CAHnC,EAIH,CALD,IAKO,CACH,MAAI,CAACnB,KAAL,CAAWoB,OAAX,CAAmB,KAAnB,EACH,CACJ,CATD,EAUH,C,uCAEQ,CACL,mBACI,qDACI,oBAAC,MAAD,EAAQ,QAAQ,CAAC,SAAjB,CAA2B,MAAM,CAAC,SAAlC,EADJ,cAEI,4BAAM,SAAS,CAAC,SAAhB,eACI,4BAAM,SAAS,CAAC,UAAhB,eACI,0BAAI,SAAS,CAAC,kBAAd,WADJ,cAEI,6BAAO,IAAI,CAAC,OAAZ,CAAoB,SAAS,CAAC,iBAA9B,CAAgD,IAAI,CAAC,MAArD,CAA4D,KAAK,CAAE,KAAKnB,KAAL,CAAWC,KAA9E,CAAqF,QAAQ,CAAE,KAAKE,YAApG,CAAkH,WAAW,CAAC,OAA9H,EAFJ,cAGI,6BAAO,IAAI,CAAC,UAAZ,CAAuB,SAAS,CAAC,iBAAjC,CAAmD,IAAI,CAAC,UAAxD,CAAmE,KAAK,CAAE,KAAKH,KAAL,CAAWE,QAArF,CAA+F,QAAQ,CAAE,KAAKC,YAA9G,CAA4H,WAAW,CAAC,UAAxI,EAHJ,cAII,8BAAQ,SAAS,CAAC,8BAAlB,CAAiD,OAAO,CAAE,KAAKE,YAA/D,WAJJ,cAKI,oBAAC,IAAD,EAAM,EAAE,CAAC,SAAT,CAAmB,SAAS,CAAC,4BAA7B,oCALJ,CADJ,CAFJ,CADJ,CAcH,C,mBA9CeZ,KAAK,CAAC2B,S,EAiD1B,cAAe1B,CAAAA,UAAU,CAACI,KAAD,CAAzB","sourcesContent":["import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport * as auth from '../utils/auth';\nimport Header from './Header';\n\nclass Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: '',\n            password: ''\n        }\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    };\n\n    handleChange(e) {\n        const {name, value} = e.target;\n        this.setState({ [name]: value });\n    }\n\n    handleSubmit(e) {\n        e.preventDefault();\n        const { email, password } = this.state;\n        auth.authorize(email, password).then((res) => {\n            if (res) {\n                this.setState({ email: '', password: ''},\n                () => { \n                    this.props.setLoggedIn({ loggedIn: true, email });\n                    this.props.history.push('/'); });\n            } else {\n                this.props.onClick(false);\n            }\n        })\n    }\n\n    render() {\n        return (\n            <>\n                <Header linkText=\"Sign Up\" linkTo=\"/signup\" />\n                <main className=\"content\">\n                    <form className=\"register\">\n                        <h2 className=\"register__header\">Log In</h2>\n                        <input name=\"email\" className=\"register__input\" type=\"text\" value={this.state.email} onChange={this.handleChange} placeholder=\"Email\"/>\n                        <input name=\"password\" className=\"register__input\" type=\"password\" value={this.state.password} onChange={this.handleChange} placeholder=\"Password\" />\n                        <button className=\"register__button btn-animate\" onClick={this.handleSubmit}>Log In</button>\n                        <Link to=\"/signup\" className=\"register__link btn-animate\">Not a member yet? Sign up here!</Link>                        \n                    </form>\n                </main>\n            </>\n        );\n    }\n}\n\nexport default withRouter(Login);"]},"metadata":{},"sourceType":"module"}